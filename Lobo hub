--[[
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘             ðŸ”¥ LOBOFIRE HUB - SELIWARE EDITION ðŸ”¥         â•‘
    â•‘                  Kaitun Otimizado - Blox Fruits           â•‘
    â•‘                  Compatibilidade MÃ¡xima para Seliware     â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    âš¡ CARACTERÃSTICAS:
    â€¢ Sistema Anti-Ban AvanÃ§ado (Simplificado)
    â€¢ Farm Completo de Level, Mastery, Boss e Materiais
    â€¢ Interface GrÃ¡fica Simplificada
    â€¢ Foco em Compatibilidade com Seliware
    
    ðŸš« EXCLUÃDO: FunÃ§Ãµes de otimizaÃ§Ã£o de FPS e UI complexa para evitar falhas.
]]

-- VerificaÃ§Ã£o de ambiente
if not game:IsLoaded() then
    wait(1) -- Usando wait() simples para mÃ¡xima compatibilidade
end

-- ProteÃ§Ã£o contra execuÃ§Ã£o mÃºltipla
if getgenv().LoboFireLoaded then
    warn("âš ï¸ LoboFire Hub jÃ¡ estÃ¡ em execuÃ§Ã£o!")
    return
end
getgenv().LoboFireLoaded = true

-- NotificaÃ§Ã£o de carregamento (Simplificada)
local function Notify(title, text, duration)
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = title,
            Text = text,
            Duration = duration or 5,
            Icon = "rbxassetid://0"
        })
    end)
end

Notify("ðŸ”¥ LoboFire Hub", "Iniciando carregamento (Seliware Edition)...", 3)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MÃ“DULO: SISTEMA ANTI-BAN AVANÃ‡ADO (Simplificado)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local AntiBan = {}
AntiBan.__index = AntiBan

AntiBan.Config = {
    MinDelay = 0.5,
    MaxDelay = 2.5,
    AntiKick = true,
    AntiAfk = true,
}

AntiBan.LastAction = tick()

function AntiBan:RandomDelay(min, max)
    min = min or self.Config.MinDelay
    max = max or self.Config.MaxDelay
    local delay = min + (math.random() * (max - min))
    return delay
end

function AntiBan:Wait(customMin, customMax)
    local delay = self:RandomDelay(customMin, customMax)
    wait(delay) -- Usando wait() simples
    self.LastAction = tick()
end

function AntiBan:EnableAntiKick()
    if not self.Config.AntiKick then return end
    
    pcall(function()
        local mt = getrawmetatable(game)
        local old = mt.__namecall
        setreadonly(mt, false)
        
        mt.__namecall = newcclosure(function(self, ...)
            local method = getnamecallmethod()
            if method == "Kick" then
                return nil
            end
            return old(self, ...)
        end)
        
        setreadonly(mt, true)
    end)
end

function AntiBan:EnableAntiAfk()
    if not self.Config.AntiAfk then return end
    
    pcall(function()
        local VirtualUser = game:GetService("VirtualUser")
        
        game:GetService("Players").LocalPlayer.Idled:Connect(function()
            VirtualUser:CaptureController()
            VirtualUser:ClickButton2(Vector2.new())
        end)
    end)
end

function AntiBan:Initialize()
    self:EnableAntiKick()
    self:EnableAntiAfk()
    print("ðŸ”’ Sistema Anti-Ban LoboFire ativado (Seliware Mode)!")
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MÃ“DULO: SISTEMA DE FARM OTIMIZADO (Simplificado)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Farm = {}
Farm.__index = Farm

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local Player = Players.LocalPlayer

Farm.Config = {
    Enabled = false,
    FarmLevel = true,
    AttackDistance = 25,
    FastAttack = true,
    AutoHaki = true,
}

Farm.Status = {
    CurrentTask = "Aguardando...",
    CurrentMob = "Nenhum",
    Level = 0,
    TimeElapsed = 0,
}

Farm.MobList = {
    {Level = 1, Name = "Bandit", Quest = "BanditQuest1"},
    {Level = 700, Name = "Raider", Quest = "Area1Quest"},
    {Level = 1500, Name = "Pirate Millionaire", Quest = "PiratePortQuest"},
    {Level = 2500, Name = "Sun-kissed Warrior", Quest = "TikiQuest2"},
}

function Farm:GetCurrentMob()
    local level = Player.Data.Level.Value
    local currentMob = self.MobList[1]
    
    for _, mob in ipairs(self.MobList) do
        if level >= mob.Level then
            currentMob = mob
        else
            break
        end
    end
    
    return currentMob
end

function Farm:ActivateHaki()
    if not self.Config.AutoHaki then return end
    
    pcall(function()
        if not Player.Character:FindFirstChild("HasBuso") then
            local args = {[1] = "Buso"}
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
        end
    end)
end

function Farm:FastAttack()
    if not self.Config.FastAttack then return end
    
    pcall(function()
        game:GetService("VirtualUser"):CaptureController()
        game:GetService("VirtualUser"):ClickButton2(Vector2.new())
    end)
end

function Farm:FarmMob(mobData)
    local mobName = mobData.Name
    local enemies = workspace.Enemies:GetChildren()
    
    for _, enemy in pairs(enemies) do
        if enemy.Name == mobName and enemy:FindFirstChild("Humanoid") and enemy.Humanoid.Health > 0 then
            repeat
                wait(0.1)
                
                if not enemy or not enemy.Parent or enemy.Humanoid.Health <= 0 then
                    break
                end
                
                pcall(function()
                    if enemy:FindFirstChild("HumanoidRootPart") and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
                        local enemyPos = enemy.HumanoidRootPart.Position
                        local distance = (Player.Character.HumanoidRootPart.Position - enemyPos).Magnitude
                        
                        if distance > self.Config.AttackDistance then
                            Player.Character.HumanoidRootPart.CFrame = CFrame.new(
                                enemyPos.X,
                                enemyPos.Y + 10,
                                enemyPos.Z
                            )
                        end
                        
                        self:ActivateHaki()
                        self:FastAttack()
                        
                        self.Status.CurrentMob = mobName
                        self.Status.CurrentTask = "Farmando: " .. mobName
                    end
                end)
                
                AntiBan:Wait(0.1, 0.3)
                
            until not self.Config.Enabled or enemy.Humanoid.Health <= 0
        end
    end
end

function Farm:StartLevelFarm()
    -- Usando spawn(function() ... end) com wait() simples
    spawn(function()
        while self.Config.Enabled and self.Config.FarmLevel do
            wait(0.5)
            
            self.Status.Level = Player.Data.Level.Value
            local mobData = self:GetCurrentMob()
            
            self:FarmMob(mobData)
            
            AntiBan:Wait(1, 2)
        end
    end)
end

function Farm:Initialize()
    print("ðŸ”¥ Sistema de Farm LoboFire iniciado (Seliware Mode)!")
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MÃ“DULO: INTERFACE GRÃFICA (Simplificada)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local UI = {}
UI.__index = UI

local CoreGui = game:GetService("CoreGui")

UI.Config = {
    Theme = {
        Primary = Color3.fromRGB(255, 85, 0),
        Background = Color3.fromRGB(20, 20, 25),
        Text = Color3.fromRGB(255, 255, 255),
    },
}

function UI:CreateMainUI()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "LoboFireHub"
    ScreenGui.Parent = CoreGui
    ScreenGui.ResetOnSpawn = false
    
    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Parent = ScreenGui
    mainFrame.BackgroundColor3 = UI.Config.Theme.Background
    mainFrame.BorderSizePixel = 1
    mainFrame.BorderColor3 = UI.Config.Theme.Primary
    mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
    mainFrame.Size = UDim2.new(0, 300, 0, 200)
    mainFrame.Active = true
    mainFrame.Draggable = true
    
    local title = Instance.new("TextLabel")
    title.Name = "Title"
    title.Parent = mainFrame
    title.BackgroundTransparency = 0
    title.BackgroundColor3 = UI.Config.Theme.Primary
    title.Position = UDim2.new(0, 0, 0, 0)
    title.Size = UDim2.new(1, 0, 0, 30)
    title.Font = Enum.Font.SourceSansBold
    title.Text = "ðŸ”¥ LOBOFIRE HUB (Seliware)"
    title.TextColor3 = UI.Config.Theme.Text
    title.TextSize = 14
    
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Name = "Status"
    statusLabel.Parent = mainFrame
    statusLabel.BackgroundTransparency = 1
    statusLabel.Position = UDim2.new(0, 10, 0, 40)
    statusLabel.Size = UDim2.new(1, -20, 0, 20)
    statusLabel.Font = Enum.Font.SourceSans
    statusLabel.Text = "Status: Aguardando..."
    statusLabel.TextColor3 = UI.Config.Theme.Text
    statusLabel.TextSize = 12
    statusLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local mobLabel = Instance.new("TextLabel")
    mobLabel.Name = "Mob"
    mobLabel.Parent = mainFrame
    mobLabel.BackgroundTransparency = 1
    mobLabel.Position = UDim2.new(0, 10, 0, 60)
    mobLabel.Size = UDim2.new(1, -20, 0, 20)
    mobLabel.Font = Enum.Font.SourceSans
    mobLabel.Text = "Mob: Nenhum"
    mobLabel.TextColor3 = UI.Config.Theme.Text
    statusLabel.TextSize = 12
    mobLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local startButton = Instance.new("TextButton")
    startButton.Name = "Start"
    startButton.Parent = mainFrame
    startButton.BackgroundColor3 = UI.Config.Theme.Primary
    startButton.Position = UDim2.new(0.5, -75, 1, -40)
    startButton.Size = UDim2.new(0, 150, 0, 30)
    startButton.Font = Enum.Font.SourceSansBold
    startButton.Text = "â–¶ INICIAR FARM"
    startButton.TextColor3 = UI.Config.Theme.Text
    startButton.TextSize = 14
    
    startButton.MouseButton1Click:Connect(function()
        Farm.Config.Enabled = not Farm.Config.Enabled
        if Farm.Config.Enabled then
            startButton.Text = "â¸ PAUSAR FARM"
            Farm:StartLevelFarm()
            Notify("ðŸ”¥ LoboFire", "Farm iniciado!", 3)
        else
            startButton.Text = "â–¶ INICIAR FARM"
            Notify("â¸ LoboFire", "Farm pausado!", 3)
        end
    end)
    
    UI.Elements = {
        Status = statusLabel,
        Mob = mobLabel,
    }
    
    return ScreenGui
end

function UI:UpdateStatus()
    spawn(function()
        while wait(1) do
            if UI.Elements and Farm.Status then
                UI.Elements.Status.Text = "Tarefa: " .. Farm.Status.CurrentTask .. " | NÃ­vel: " .. Farm.Status.Level
                UI.Elements.Mob.Text = "Mob: " .. Farm.Status.CurrentMob
                Farm.Status.TimeElapsed = Farm.Status.TimeElapsed + 1
            end
        end
    end)
end

function UI:Initialize()
    self:CreateMainUI()
    self:UpdateStatus()
    print("ðŸŽ¨ Interface LoboFire Hub carregada (Seliware Mode)!")
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- INICIALIZAÃ‡ÃƒO PRINCIPAL
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function Initialize()
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print("           ðŸ”¥ LOBOFIRE HUB SELIWARE v1.0.0")
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    
    -- Aguarda o personagem carregar
    if not Player.Character then
        Player.CharacterAdded:Wait()
    end
    
    wait(1)
    
    -- Inicializa mÃ³dulos
    AntiBan:Initialize()
    Farm:Initialize()
    UI:Initialize()
    
    Notify("ðŸ”¥ LoboFire Hub", "Carregado com sucesso! Pronto para farmar.", 5)
    
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print("âœ“ Todos os sistemas operacionais!")
    print("âœ“ Clique em 'INICIAR FARM' para comeÃ§ar")
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
end

-- ExecuÃ§Ã£o com proteÃ§Ã£o de erro
pcall(Initialize)

